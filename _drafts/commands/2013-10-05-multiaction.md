---
layout: post
title: "multiaction"
description: ""
category: "commands"
tags: []
---
{% include JB/setup %}

Syntax:  
`#multiaction` 

Включает/выключает "мультитриггерный режим". При выключенном мультирежиме JMC прекращает обработку текущей строки после нахождения первого подходящего триггера. При включенном режиме JMC будет проверять все заданные триггеры на необходимость применения к текущей строке. Если количество заданных вами триггеров исчисляется сотнями, для ускорения работы лучше держать данный режим выключенным, используя приоритеты триггеров.

Пример:  
`#alias get_stats {  #action{HP:%1} { #var hp %1};   #action {MVS:%1} { #var mvs%1; #multiaction; #unact {HP:%1}; { #unact MVS:%1}}; #multiaction;   #cr}`

Что ж, весьма сложный алиас. Давайте разбираться. Вначале происходит задание двух триггеров.   
Первый триггер извлекает количество хитпоинтов из строки состояния и помещает полученное значение в переменную `hp`.   
Второй извлекает количество единиц бодрости (movement points) и помещает полученное значение в переменную `mvs`.  
Затем выключает мультитриггерный режим и удаляет оба заданных триггера.  
После определения триггеров алиас отправляет на сервер код перевода строки (чтобы получить строку состояния).  
После получения строки состоянии алиас заполняет указанные переменные требуемыми значениями, удаляет триггеры и выключает мультитриггерный режим.  

Режим по умолчанию - ВЫКЛ. 

См. также: [#action](#action)